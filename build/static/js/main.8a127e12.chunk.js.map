{"version":3,"sources":["components/Filter.js","components/PersonsForm.js","components/PersonsList.js","services/phoneNumbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","search","onChange","handle","PersonsForm","onSubmit","newName","handleNameChange","newNumber","handlePhoneChange","type","PersonsList","filter","map","persons","name","number","id","onClick","handleDelete","baseUrl","axios","get","then","response","data","newObject","post","delete","changedNumber","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setSearch","notification","setNotification","useEffect","phoneServices","initialPhones","event","target","preventDefault","phoneNumber","some","p","toLowerCase","alert","window","confirm","returnedPhone","setTimeout","concat","catch","error","console","log","person","includes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a127e12.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n      <div>\r\n      <p>Filter show with</p>\r\n      <input value={props.search} onChange={props.handle} />\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonsForm = (props) => {\r\n    return (\r\n      \r\n      <form onSubmit={props.onSubmit}>\r\n        name: <input value={props.newName} onChange={props.handleNameChange} /> <br />\r\n        phone: <input value={props.newNumber} onChange={props.handlePhoneChange} /> <br />\r\n        <button type=\"submit\">Add</button>\r\n      </form>\r\n      \r\n    )\r\n  }\r\n\r\nexport default PersonsForm","import React from 'react'\r\n\r\nconst PersonsList = (props) => {\r\n    return (\r\n      <ul>\r\n        { props.filter().map( persons => <li key={persons.name}>{persons.name} : {persons.number} \r\n          <button type='button' name={persons.name} value={persons.id} onClick={props.handleDelete}>delete</button>\r\n          </li>)}\r\n        \r\n      </ul>\r\n    )\r\n  }\r\n\r\nexport default PersonsList","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then( response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteNumber = id => {\r\n    const request = axios.delete(baseUrl+'/'+id)\r\n    return request.then(response => response.data)\r\n    \r\n}\r\n\r\nconst changeNumber = (id, changedNumber) => {\r\n    const request = axios.put( baseUrl+'/'+id, changedNumber)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deleteNumber, changeNumber\r\n    }\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 20\r\n    }\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonsForm from './components/PersonsForm'\nimport PersonsList from './components/PersonsList'\nimport phoneServices from './services/phoneNumbers'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('New name...')\n  const [ newNumber, setNewNumber] = useState('New Number')\n  const [ search, setSearch] = useState('')\n  const [ notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    phoneServices\n      .getAll()\n      .then(initialPhones => {\n        setPersons(initialPhones)\n        \n      })\n  }, [])\n  \n  \n  const addPhone = (event) => {\n    event.preventDefault()\n    const phoneNumber = {\n      name: newName,\n      number: newNumber\n    }\n    if (  persons.some( p => p.name.toLowerCase() === newName.toLowerCase() ) ) {\n      const alert = window.confirm(newName+' is already on the phonebook, do you want to replace the phone number?')\n      const id = persons.filter( p => p.name === newName)[0].id\n      \n      if(alert) {\n        \n        phoneServices\n        .changeNumber(id,phoneNumber)\n        .then(returnedPhone => {\n        \n        setPersons(persons.map( p => p.id === returnedPhone.id ? returnedPhone : p ))\n        setNewName('')\n        setNewNumber('')\n        })\n        .then( ()=> {\n          setNotification(newName+' phone updated')\n          setTimeout( () => setNotification(null),5000)\n        })\n      }\n    } else {\n        phoneServices\n        .create(phoneNumber)\n        .then(returnedPhone => {\n        setPersons(persons.concat(returnedPhone))\n        \n        setNewName('')\n        setNewNumber('') \n        })\n        .then( () => {\n          setNotification(phoneNumber.name +' added to the phonebook')\n          setTimeout( () => setNotification(null),5000)\n        })\n        .catch(error => {\n          setNotification(error.response.data)\n          console.log(error.response.data)\n        })\n    }\n    \n  }\n  \n  const handleDelete = (event)  => {\n      const id = event.target.value\n      const alert = window.confirm('Delete '+event.target.name+'?')\n      if(alert) {\n      phoneServices\n      .deleteNumber(id)\n      .then( () => {\n        setNotification(event.target.name + ' deleted')\n        setTimeout(() => setNotification(null),5000)\n      })\n      .catch( error => {\n        setNotification('Error. Phone number has already been deleted')\n        setTimeout( () => setNotification(null),5000)\n      })    \n      setPersons(persons.filter(person => person.id != id))\n      }\n      \n           \n    \n    }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value)\n  }\n\n  \n\n  const personsFilter = () => \n  persons.filter( person => person.name.toLowerCase().includes(search.toLowerCase()))\n  \n\n  \n\n  return (\n    <div>      \n      <h1>Phonebook</h1>\n      <Notification message={notification} />\n      <Filter search={search} handle={handleSearch} />      \n      <h2>Add a new contact</h2>\n      <PersonsForm \n        newName={newName} newNumber={newNumber} onSubmit={addPhone}\n        handleNameChange={handleNameChange} handlePhoneChange={handlePhoneChange} \n      />\n      <h2>Numbers</h2>\n      <PersonsList filter={personsFilter} handleDelete={handleDelete} />\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}